<project>
    
    <target name="compile-common">
        
        <propertycopy name="path" from="project.fullpath" override="true"/>
        
        <!-- build -->
        <ant antfile="${path}/meta-common.xml" target="main" inheritAll="false">
            <property name="FLEX_HOME" value="${FLEX_HOME}" />
            <property name="TODAY" value="${TODAY}" />
            <property name="local.flashplayerversion" value="${local.flashplayerversion}" />
            <property file="${path}/build/build.properties"/>
        </ant>
        
        <!-- deploy to libs -->
        <copy file="${path}/bin-release/common.swc" todir="libs/swc" overwrite="true" />
        <copy file="${path}/bin-release/common.abc" todir="libs/abc" overwrite="true" />
        
        <!-- sync with other projects -->
        <copy file="${path}/bin-release/common.swc" todir="packages/system_hosts/lib-swc" overwrite="true" />
        <copy file="${path}/bin-release/common.abc" todir="packages/system_hosts/lib-abc" overwrite="true" />
        
        <copy file="${path}/bin-release/common.swc" todir="packages/system_numeric/lib-swc" overwrite="true" />
        <copy file="${path}/bin-release/common.abc" todir="packages/system_numeric/lib-abc" overwrite="true" />
        
        <copy file="${path}/bin-release/common.swc" todir="packages/system_data/lib-swc" overwrite="true" />
        <copy file="${path}/bin-release/common.abc" todir="packages/system_data/lib-abc" overwrite="true" />
        
        <copy file="${path}/bin-release/common.swc" todir="packages/system_process/lib-swc" overwrite="true" />
        <copy file="${path}/bin-release/common.abc" todir="packages/system_process/lib-abc" overwrite="true" />
        
        <copy file="${path}/bin-release/common.swc" todir="packages/system_events/lib-swc" overwrite="true" />
        <copy file="${path}/bin-release/common.abc" todir="packages/system_events/lib-abc" overwrite="true" />
        
        <copy file="${path}/bin-release/common.swc" todir="packages/system_comparators/lib-swc" overwrite="true" />
        <copy file="${path}/bin-release/common.abc" todir="packages/system_comparators/lib-abc" overwrite="true" />
        
        <copy file="${path}/bin-release/common.swc" todir="packages/system_logging/lib-swc" overwrite="true" />
        <copy file="${path}/bin-release/common.abc" todir="packages/system_logging/lib-abc" overwrite="true" />
        
        <copy file="${path}/bin-release/common.swc" todir="packages/system_evaluators/lib-swc" overwrite="true" />
        <copy file="${path}/bin-release/common.abc" todir="packages/system_evaluators/lib-abc" overwrite="true" />
        
        <copy file="${path}/bin-release/common.swc" todir="packages/system_formatters/lib-swc" overwrite="true" />
        <copy file="${path}/bin-release/common.abc" todir="packages/system_formatters/lib-abc" overwrite="true" />
        
        <copy file="${path}/bin-release/common.swc" todir="packages/system_ioc/lib-swc" overwrite="true" />
        <copy file="${path}/bin-release/common.abc" todir="packages/system_ioc/lib-abc" overwrite="true" />
    </target>
    
</project>
